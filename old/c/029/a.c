#include <stdio.h>
#include <sys/socket.h>
#include <string.h>
#include <errno.h>
#include <netinet/in.h>
#include <stdlib.h>


int main() 
{
        //int len = 0x2e;
        //char foo[] = { 0x44, 0x00, 0x65, 0x00, 0x6e, 0x00, 0x79, 0x00, 0x20, 0x00, 0x69, 0x00, 0x6e, 0x00, 0x63, 0x00, 0x6f, 0x00, 0x6d, 0x00, 0x69, 0x00, 0x6e, 0x00, 0x67, 0x00, 0x20, 0x00, 0x54, 0x00, 0x43, 0x00, 0x50, 0x00, 0x20, 0x00, 0x36, 0x00, 0x36, 0x00, 0x36, 0x00, 0x36, 0x00, 0x00, 0x00 };
        char foo[] = { 0x44, 0x00, 0x65, 0x00, 0x6e, 0x00, 0x79, 0x00, 0x20, 0x00, 0x69, 0x00, 0x6e, 0x00, 0x63, 0x00, 0x6f, 0x00, 0x6d, 0x00, 0x69, 0x00, 0x6e, 0x00, 0x67, 0x00, 0x20, 0x00, 0x54, 0x00, 0x43, 0x00, 0x50, 0x00, 0x20, 0x00, 0x36, 0x00, 0x36, 0x00, 0x36, 0x00, 0x36, 0x00, 0x00, 0x00 };
        wchar_t  *ws = (void*)foo;
        char     *s  =  malloc(100);
        int rc;

        {
                wchar_t ww[] = L"123";
                int i, ll = sizeof (ww);

                printf ("ll = %u\n", ll);
                for (i=0; i<ll; i++) {
                        printf ("[%03d] 0x%02x %c\n",
                                        i, ((char*)ww)[i]);
                }
        }

        printf ("%s\n", (char*)ws);

        rc = wcstombs (s, ws, 100);

        if (rc<0)
                perror ("wctomb");
        else
                printf ("%d\n", rc);

        printf ("%s\n", s);

        
        return 0;
}
